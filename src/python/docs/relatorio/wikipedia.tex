\section{Download Wikipedia}

\subsection{Download de páginas}

Na wikipedia as categorias tem dois tipos de membros filhos: páginas e outras categorias.
A estratégia de donwload de páginas envolveu escolher as categorias desejadas e fazer donwload tanto das subcategorias quanto das páginas filhas.

ESCREVER SOBRE ESCOLHA DAS CATEGORIAS

\subsubsection{Problemas}

Primeiro problema

Árvore inteiro iria ficar muito grande
Uma mesma página foi baixada mais de uma vez já que era referenciada por mais de uma categoria. Teve caso em que a mesma página foi baixada 5 vezes pois era 
referenciada por 5 categorias diferentes. Isto fez com que o conteúdo fosse também baixado mais de uma vez. A estratégia utilizada para resolver este problema 
envolveu selecionar ids da páginas para download do conteúdo usando distinct e ao fazer o download marcar como pronto utilizando updatemany (inicialmente estava 
usando) updateone, o que fez com que o conteúdo da mesma página fosse feito download mais de uma vez.

\subsubsection{Solução definitiva}

Para corrigir o problema optamos por trabalhar utilizamos apenas o conjunto de dados que temos no MongoDB para evitar acessos extras à API da Wikipedia.

\begin{itemize}
    \item Renomear collection de pages errada de "pages" para "pages\_incorreto". Feito no mongo shell com commando (db.pages.renameCollection('pages\_incorreto'))
    \item Pegar todos as páginas no incorreto e manter apenas uma por pageid. Trocar os dados de categoria por um array de categorias para o caso de quando uma 
    página for referenciada por mais de uma categoria. 
    \item Inserir páginas corrigidas na collection anterior
    \item Renomear collection de páginas com conteúdo para pages\_content\_incorreto através do comando 
    db.pages\_content.renameCollection('pages\_content\_incorreto')

\end{itemize}

\subsection{{Exploração e limpeza de dados}}

Após fazer o donwload dos conteúdos das páginas o próximo passo foi explorar e conhecer os dados.

\begin{itemize}
    \item Contagem de documentos
    \item Cálculo do tamanho médio dos documentos
    \item Nuvem de palavras dos documentos com palavras mais frequentes
\end{itemize}

Após a exploração dos dados o próximo passo foi limpar os dados.

\begin{itemize}
    \item Remoção de tags html
    \item Remoção de stopwords
    \item Stemming
\end{itemize}